<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Question 1</title>
  </head>
  <body>
    <h1>Title of posts/1</h1>
    <p></p>
    <p></p>
    <script>
      /*
        문제 1: Fetch
        fetch API를 사용하여 다음 URL로 GET 요청을 보내는 JavaScript 함수를 작성하세요:
        "https://jsonplaceholder.typicode.com/posts/1".
        이 함수는 JSON 응답에서 "title" 속성을 추출하여 반환해야 합니다.
        */
      const $paragraph1 = document.querySelectorAll("p")[0];
      const $paragraph2 = document.querySelectorAll("p")[1];
      // .then 이용하는 방법

      // prom은 fetch 실행에 의해 생긴 promise의 response 값
      // json은 prom.json() 실행에 의해 싱긴 promise의 response값.
      // json의 title을 $paragraph1의 innerHTML 값으로 바꿈.
      const BACKEND_URL = "https://jsonplaceholder.typicode.com/posts/1";
      fetch(BACKEND_URL, {
        method: "GET",
      }).then((prom) =>
        prom.json().then((json) => ($paragraph1.innerHTML = json.title))
      );

      // await 이용하는 방법

      // prom은 fetch 실행에 의해 생긴 promise의 response 값
      // json은 prom.json() 실행에 의해 싱긴 promise의 response값.
      // json의 title을 $paragraph2의 innerHTML 값으로 바꿈.
      const setTitle = async () => {
        // 첫 promise
        const prom = await fetch(BACKEND_URL, {
          method: "GET",
        });
        const json = await prom.json();
        $paragraph2.innerHTML = json.title;
      };
      setTitle();
    </script>
  </body>
</html>
